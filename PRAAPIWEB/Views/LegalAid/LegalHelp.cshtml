@model PRAAPIWEB.Models.LegalHelpViewModel

@{
    ViewData["Title"] = "Юридическая помощь";
}

<div class="container mt-4">
    <h1 class="mb-4">Юридическая помощь мигрантам</h1>

    <!-- Поисковая строка -->
    <form method="get" class="mb-4">
        <div class="input-group">
            <input type="text" name="searchQuery" class="form-control" placeholder="Поиск по статьям..." value="@Model.SearchQuery">
            <button type="submit" class="btn btn-primary">Найти</button>
        </div>
    </form>

    <div class="row">
        <!-- Боковое меню с категориями -->
        <div class="col-md-3">
            <div class="list-group">
                @foreach (var category in Model.Categories)
                {
                    <a href="#@category.ToLower()" class="list-group-item list-group-item-action">@category</a>
                }
            </div>
        </div>

        <!-- Основной контент -->
        <div class="col-md-9">
            @if (!string.IsNullOrEmpty(Model.ErrorMessage))
            {
                <div class="alert alert-danger">@Model.ErrorMessage</div>
            }

            <p class="lead mb-4">
                Здесь вы найдете подробные инструкции и полезные материалы по оформлению документов,
                получению статусов проживания, а также информацию о ваших правах и обязанностях.
            </p>

            <!-- Динамически загружаемые статьи -->
            @foreach (var article in Model.LegalArticles)
            {
                <div class="card mb-4" id="@article.Category.ToLower()">
                    <div class="card-body">
                        <h2 class="card-title">@article.Title</h2>
                        <div class="card-text">
                            @Html.Raw(article.Content)
                        </div>
                    </div>
                </div>
            }

            <!-- Пример статического контента (может быть заменен динамическим) -->
            <div class="card mb-4" id="rvt">
                <div class="card-body">
                    <h2 class="card-title">Временное проживание (РВП)</h2>
                    <ol class="card-text">
                        <li>Соберите необходимый пакет документов</li>
                        <li>Оплатите госпошлину</li>
                        <li>Подайте документы в МВД</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
</div>